/*
** XIN YUAN, 2020, BSD (2)
*/

////////////////////////////////////////////////////////////////////////////////

#include "precomp.h"

#include "../TextApp.h"

#include "../../window/CfgDialog.h"

////////////////////////////////////////////////////////////////////////////////
namespace CSL {
////////////////////////////////////////////////////////////////////////////////

// TextApp

std::function<void()> TextApp::get_ConfigCommand()
{
	return [this]()
			{
				CfgDialog dlg(200, 140, "Configuration");
				//properties
				dlg.attach_BackColor(this->m_cfgPart.GetViewModel().get_BackColor());
				dlg.Update();
				//commands
				dlg.attach_SetBackColorCommand(this->m_cfgPart.GetViewModel().get_SetBackColorCommand());
				dlg.show();
				//modal
				while ( dlg.shown() )
					Fl::wait();
			};
}

////////////////////////////////////////////////////////////////////////////////
}
////////////////////////////////////////////////////////////////////////////////
